
<mat-card class="register" *ngIf="!isRegistered;else registered">
    <mat-card-title>Créez un compte</mat-card-title>
    <form action="" [formGroup]="registerFormGroup" (ngSubmit)="register()">
      
    <mat-card-content class="registration-card-content">
            <mat-form-field appearance="outline">
                <mat-label>Email</mat-label>
                <input matInput placeholder="pat@example.com" formControlName="email" required>
                <mat-error *ngIf="registerFormGroup.get('email').errors && registerFormGroup.get('email').hasError('required')">Email recquis</mat-error>
                <mat-error *ngIf="registerFormGroup.get('email').errors && registerFormGroup.get('email').hasError('email')">Email pas valid</mat-error>
                <mat-error *ngIf="registerFormGroup.get('email').errors && registerFormGroup.get('email').hasError('emailexist')">Email existe déjà</mat-error>
         
            </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label>Password</mat-label>
                <input matInput type="password" formControlName="password" required>
                <mat-error *ngIf="registerFormGroup.get('password').errors && registerFormGroup.get('password').hasError('required')">Password recquis</mat-error>
                <mat-error *ngIf="registerFormGroup.get('password').errors && registerFormGroup.get('password').hasError('minlength')">Minimum 8 lettres</mat-error>
                <mat-error *ngIf="registerFormGroup.get('password').errors && registerFormGroup.get('password').hasError('pattern')">Doit contenir une lettre majuscule, une lettre miniscule et un chiffre</mat-error>
           
            </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label>Confirm Password</mat-label>
                <input matInput type="password" formControlName="confirmPassword" required>
                <mat-error *ngIf="registerFormGroup.get('confirmPassword').errors && registerFormGroup.get('confirmPassword').hasError('isNotEqualToPassword')">Doit être le même que password</mat-error>
                
            </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label>Prénom</mat-label>
                <input matInput formControlName="prenom" placeholder="Prenom" required>
                <mat-error *ngIf="registerFormGroup.get('prenom').errors && registerFormGroup.get('prenom').hasError('required')">Prénom recquis</mat-error>
                <mat-error *ngIf="registerFormGroup.get('prenom').errors && registerFormGroup.get('prenom').hasError('minlength')">Minimum 3 lettres</mat-error>
          
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Nom</mat-label>
                <input matInput formControlName="nom" placeholder="nom" required>
                <mat-error *ngIf="registerFormGroup.get('nom').errors && registerFormGroup.get('nom').hasError('required')">Nom recquis</mat-error>
                <mat-error *ngIf="registerFormGroup.get('nom').errors && registerFormGroup.get('nom').hasError('minlength')">Minimum 3 lettres</mat-error>
          
              </mat-form-field>
             
               <mat-form-field appearance="outline">
                <mat-label>Adresse</mat-label>
                <input matInput formControlName="adresse" placeholder="Adresse" >
              </mat-form-field>
            
               <mat-form-field appearance="outline">
                <mat-label>Code Postale</mat-label>
                <input matInput formControlName="cp" placeholder="Code Postale" >
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Ville</mat-label>
                <input matInput formControlName="ville" placeholder="Ville" >
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Pays</mat-label>
                <input matInput formControlName="pays" placeholder="pays" >
              </mat-form-field>
           
              <mat-form-field appearance="outline">
                <mat-label>Date de Naissance</mat-label>
                <input matInput formControlName="dateDeNaissance" placeholder="Date de Naissance" type="date" >
                <mat-error *ngIf="registerFormGroup.get('dateDeNaissance').errors && registerFormGroup.get('dateDeNaissance').hasError('avantaujourdhui')">Date de naissance doit être au passé</mat-error>
              
            </mat-form-field>
            
              <mat-form-field appearance="outline">
                <mat-label>Tél</mat-label>
                <input matInput formControlName="tel" placeholder="Tél" >
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Mobile</mat-label>
                <input matInput formControlName="mobile" placeholder="Mobile" type="tel" >
              </mat-form-field>
        
    </mat-card-content>
    <mat-card-actions>
      <button type="submit" [disabled]="registerFormGroup.invalid" mat-button>Register</button>
      <a routerLink="/users/login">Vous avez un compte? Identifiez-vous</a>
    </mat-card-actions>
    </form>
  </mat-card>

  <ng-template  #registered>

    <mat-card>

        <mat-card-title>Compte créé avec succès !</mat-card-title>
        <mat-card-content class="response-card-content">
            Merci d'avoir créé un compte chez cvgenerator, vous n'avez qu'à vous connecter et ensuite commencer à construire votre CV. 
        </mat-card-content>
        <mat-card-actions>
            <button type="button" routerLink="/users/login" mat-button>Se connecter</button>
          </mat-card-actions>
    </mat-card>
  </ng-template>
